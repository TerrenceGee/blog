# 互联网项目

| 特点 | 要求 |
| --- | --- |
| 用户多 | 高性能 |
| 流量大，并发高| 高可用 |
| 海量数据| 可伸缩 |
| 易受攻击| 高可扩展 |
| 功能繁琐| 安全性 |
| 变更快| 敏捷性 |

## 网站性能指标

- 响应时间
- 并发数
  - 并发连接数：TCP连接数
  - 请求数：QPS
  - 并发用户数
- 吞吐量
  - QPS
  - TPS

> QPS和TPS对比：一次访问只会形成一个TPS，但是可能会有多次服务器请求QPS

## 集群和分布式

- 集群：把处理同一个业务的系统部署多个节点
- 分布式：把一个大业务拆分成多个子业务，每个子业务都是一套独立的系统，子业务之间相互协作最终完成整体的大业务

## 架构演进

![web后端服务架构](web后端服务架构.png)

- SOA：ESB，Dubbo
- 微服务架构：SOA+组件化+DDD，Restful

## 重要公式

- QPS >= 连接数 >= TPS

## 分层实现

1. 架构设计分层
2. 访问层
3. API网关层
4. 核心服务层
5. 数据存储及接入层
6. 监控、限流、降级知识

## 核心服务层

服务注册：注册中心
服务发现：注册中心
伸缩：注册中心
负载均衡
限流
熔断
降级
监控
